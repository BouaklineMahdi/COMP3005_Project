TEST PLAN – HEALTH & FITNESS CLUB APP (ORM + UI)

PREREQUISITES

DB name: fitness_club

DB user: postgres

DB password: postgres

USE_ORM=true in environment

python -m app.init_db already run successfully

GLOBAL SETUP

Reset & seed DB

python -m app.init_db


Expected (in terminal):

“Database initialization complete!”

Lists of admins, trainers, members, etc.

Run app

set USE_ORM=true   (Windows)
uvicorn app.main:app --reload


Open UI

Go to: http://127.0.0.1:8000/ui/ in browser.

ADMIN TESTS

Admin test account (from seed):

Email: admin@gym.com

Password: password123

1.1 ADMIN LOGIN

Navigate: http://127.0.0.1:8000/ui/login/admin

Enter:

Email: admin@gym.com

Password: password123

Click Login.

Expected: Redirect to /ui/dashboard/admin, “logged in as admin@gym.com
”, admin ID shown.

1.2 DB HEALTH CHECK

On Admin Dashboard (/ui/dashboard/admin), in Database Health card:

Click Check DB Health.

Expected: Status text indicates OK (200 response), e.g. JSON with "status": "ok".

1.3 LIST ROOMS

On Admin Dashboard, Rooms section:

Click List Rooms.

Expected: List includes (at least):
Studio A, Studio B, Yoga Room, Spin Studio, Private Room 1/2/3.

1.4 CREATE ROOM

In Create Room form:

Room Name: Demo Room

Capacity: 10

Click Create Room.

Expected: Response shows new room with name Demo Room and capacity 10.
Then click List Rooms again and confirm Demo Room appears.

1.5 LIST CLASSES

In Classes section:

Click List Classes.

Expected: List includes seeded classes:
Morning Yoga, HIIT Blast, Strength Training 101, Spin Class, Power Yoga.

1.6 CREATE CLASS

Use existing trainer/room IDs:

Trainer 1: Sarah Fit

Room 1: Studio A

In Create Class form:

Class Name: Demo Strength Class

Start Time: pick a future date/time (e.g. tomorrow 10:00)

Capacity: 12

Trainer ID: 1

Room ID: 1

Click Create Class.

Expected: Response shows class Demo Strength Class.
Then List Classes again → class appears in list.

1.7 ADMIN NEGATIVE LOGIN TEST

Navigate: http://127.0.0.1:8000/ui/login/admin

Enter:

Email: admin@gym.com

Password: wrongpassword

Click Login.

Expected: Stay on login page, error message shown (no redirect).

TRAINER TESTS

Trainer test account (from seed):

Email: sarah@gym.com (trainer_id = 1)

Password: password123

2.1 TRAINER LOGIN

Navigate: http://127.0.0.1:8000/ui/login/trainer

Enter:

Email: sarah@gym.com

Password: password123

Click Login.

Expected: Redirect to /ui/dashboard/trainer, shows trainer ID 1.

2.2 VIEW TRAINER SCHEDULE

On Trainer Dashboard:

Ensure Trainer ID field is 1.

Click Fetch Schedule.

Expected: List of schedule items for trainer 1, including:

PT sessions with members (e.g. Alice / David)

Classes like Strength Training 101.

2.3 CREATE TRAINER AVAILABILITY

On Trainer Dashboard, Create Availability Slot:

Trainer ID: 1

Start Time: tomorrow at 13:00

End Time: tomorrow at 14:00

Click Create Availability.

Expected: Response shows availability for trainer_id 1 with the given times.

2.4 LIST TRAINER AVAILABILITY

On List Availability section:

Trainer ID: 1

Click List Availability.

Expected: List shows multiple entries (2 seeded + 1 new) for trainer 1.

MEMBER TESTS

Member test account (from seed):

Alice Johnson – Email: alice@email.com

Password: password123

member_id = 1

3.1 MEMBER LOGIN

Navigate: http://127.0.0.1:8000/ui/login/member

Enter:

Email: alice@email.com

Password: password123

Click Login.

Expected: Redirect to /ui/dashboard/member; shows member ID 1.

3.2 VIEW MEMBER DASHBOARD SUMMARY

On Member Dashboard, Dashboard Summary:

Member ID: 1

Click Fetch Dashboard.

Expected: JSON summary with fields like:

member_id: 1

name: "Alice Johnson"

latest_metric_type and latest_metric_value not null

total_classes_registered > 0

upcoming_pt_sessions ≥ 1

3.3 ADD HEALTH METRIC

On Member Dashboard, Add Health Metric:

Member ID: 1

Metric Type: weight

Metric Value: 146.0

Click Add Metric.

Expected: Response shows new metric for member_id 1, type weight, value 146.0.
Optionally re-fetch dashboard and see updated latest metric.

3.4 SCHEDULE PT SESSION

Use seeded IDs:

Member: 1 (Alice)

Trainer: 1 (Sarah Fit)

Room: 5 (Private Room 1)

Pick time inside Sarah’s availability (e.g. tomorrow 10:00–11:00)

On Member Dashboard, Schedule PT Session:

Member ID: 1

Trainer ID: 1

Room ID: 5

Start Time: tomorrow at 10:00

End Time: tomorrow at 11:00

Click Schedule PT Session.

Expected: Response shows PT session with member_id 1, trainer_id 1, room_id 5, correct times.

(Optional) Log in as sarah@gym.com again, view schedule → new PT session appears.

3.5 REGISTER FOR CLASS (SUCCESS)

From seeding, Alice is already registered in classes 1 and 2. We’ll use class 3 (Strength Training 101).

On Member Dashboard, Register for Class:

Member ID: 1

Class ID: 3

Click Register.

Expected: Response shows registration (member_id 1, class_id 3).
Optionally re-fetch dashboard and confirm total_classes_registered increased.

3.6 REGISTER FOR CLASS (FAILURE – DUPLICATE)

Alice is already registered for class 1 (Morning Yoga).

On Register for Class:

Member ID: 1

Class ID: 1

Click Register.

Expected: Error response (duplicate/constraint); registration not added.

3.7 MEMBER NEGATIVE LOGIN TEST

Navigate: http://127.0.0.1:8000/ui/login/member

Enter:

Email: alice@email.com

Password: wrongpassword

Click Login.

Expected: Stay on login page with error message (no dashboard).

OPTIONAL – REGISTRATION VIA SWAGGER (API DEMO)

Navigate to API docs: http://127.0.0.1:8000/docs

Use “Try it out” on:

POST /admins/register

POST /trainers/register

POST /members/register

Example body:

{
  "name": "Demo Admin",
  "email": "demo.admin@gym.com",
  "password": "password123"
}


Expected: 200 OK with new user ID; can log in with the same email/password via UI login pages.

If all of these tests pass as described, the application functionality (members/trainers/admins, view, trigger, index, role-based UI) is fully demonstrated.